# 版本更新日志

## v2.0.0 - 移动优先重构（2024-11-07）

### 🎨 重大变更

此版本完全重写了前端预览页面，采用移动优先（Mobile-First）设计策略，旧版本已移动到 `old/` 目录备份。

### ✨ 新特性

#### 导航结构
- **移动端**：底部导航栏，支持单手操作，5个核心功能快速切换
- **桌面端**：自动切换为侧边栏导航（≥1024px），空间利用更合理
- **响应式断点**：移动端 (<600px) / 平板 (600-1024px) / 桌面 (≥1024px)

#### 用户界面
- 简约风格，减少视觉噪音
- 卡片化信息区块，明确层级关系
- 大按钮、充足间距，触控友好
- 深色模式全局支持，偏好自动保存

#### 页面优化
- **登录页**：玻璃拟态设计，简洁大方
- **仪表盘**：重点展示销售、客户、回访指标，意向分布与提醒列表
- **客户管理**：搜索/过滤组件、卡片式客户信息呈现
- **客户详情**：概要卡片 + Tab 切换（基本信息 / 回访记录 / 订单）
- **回访记录**：时间线展示，突出意向变化与后续计划
- **产品订单**：销售统计概览 + 订单详情卡片
- **预设数据**：分类切换按钮，支持快速管理不同预设类型
- **系统设置**：整合外观、通知、安全、数据管理功能

### 🔧 技术改进

- **CSS 架构**：使用 CSS 变量管理主题色、间距、阴影，便于维护
- **无构建依赖**：纯 HTML + CSS + Alpine.js，无需 npm 或编译步骤
- **性能优化**：
  - 使用 CSS Transform 实现过渡动画（GPU 加速）
  - 减少重排重绘
  - 图标使用 SVG，避免字体加载闪烁
- **可访问性**：
  - 语义化标签
  - 焦点管理
  - 键盘导航支持
  - 色彩对比度符合 WCAG AA 标准

### 🐛 修复问题

- 修复旧版多次移动端适配导致的布局混乱
- 优化触摸操作响应区域
- 修复深色模式切换时的样式闪烁
- 改善表单输入在移动端的可见性

### 📦 文件结构

```
frontend-preview/
├── css/
│   └── base.css          # 核心样式与组件
├── js/
│   └── app.js            # 主题管理、数据模拟、工具函数
├── old/                  # 旧版本备份
├── index.html            # 登录页
├── dashboard.html        # 仪表盘
├── customers.html        # 客户列表
├── customer-detail.html  # 客户详情
├── visits.html           # 回访记录
├── products.html         # 产品订单
├── presets.html          # 预设数据
├── settings.html         # 系统设置
├── start-preview.sh      # 启动脚本
├── README.md             # 项目说明
└── 预览指南.md           # 使用指南
```

### 🚀 后续计划

- [ ] 接入真实后端 API
- [ ] 添加更多数据可视化图表（使用 Chart.js）
- [ ] 实现预设数据的新增/编辑弹窗
- [ ] 补充更多空状态与异常场景示例
- [ ] PWA 支持（离线访问、安装到主屏幕）

---

## v1.x - 旧版本（已归档）

旧版本功能完整，但由于多次移动端适配修改，代码逐渐变得混乱，因此决定重构。
旧版本文件已保留在 `old/` 目录，如需回滚或参考可随时查阅。

主要问题：
- 响应式布局不够自然，存在多个断点冲突
- 移动端导航与桌面端导航逻辑耦合
- CSS 样式散落在各个文件，维护困难
- 部分组件缺少触控优化
