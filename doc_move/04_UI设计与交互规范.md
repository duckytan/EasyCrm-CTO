# 04｜UI 设计与交互规范

本规范定义 AI-CRM Serverless 版本的界面结构、组件交互、响应式行为与视觉风格，确保前端实现与用户体验一致。

---

## 1. 设计基调

| 要素 | 说明 |
| --- | --- |
| 品牌定位 | 现代、专业、简洁，面向销售/客户成功团队 |
| 主色 | `#2563EB` (蓝)、`#111827` (深灰) |
| 辅色 | `#10B981` (绿)、`#F97316` (橙，用于提醒) |
| 背景色 | 浅模式 `#F9FAFB`，深色模式 `#0F172A` |
| 字体 | 中文：`"Noto Sans SC", "PingFang SC"`；英文：`"Inter"` |
| 圆角 | 8px |
| 阴影 | `0 10px 30px rgba(15, 23, 42, 0.08)` |
| 图标集 | Heroicons / Feather Icons（线性风格） |
| 网格 | 12 列布局，1440px 设计宽度；内容最大宽度 1200px |

---

## 2. 导航结构

```
┌─────────────────────────────────────┐
│ 顶部导航（高 64px）                 │
│  • 左：Logo + 系统名称               │
│  • 中：页面标题 / 面包屑            │
│  • 右：用户头像、快捷操作、深色模式 │
├─────────────────────────────────────┤
│ 左侧侧边栏（宽 240px，可折叠）      │  主要导航项：
│  • 仪表盘                          │  ├ Dashboard
│  • 客户管理                        │  ├ Customers
│  • 回访记录                        │  ├ Visits
│  • 产品订单                        │  ├ Products
│  • 预设数据                        │  ├ Presets
│  • 用户设置                        │  ├ Settings
│  • 数据维护                        │  └ Maintenance
├─────────────────────────────────────┤
│ 右侧主内容区域                      │
└─────────────────────────────────────┘
```

- **响应式行为**：在宽度 < 1024px 时侧边栏自动隐藏，使用汉堡菜单召唤；在宽度 < 768px 时顶部导航仅保留 Logo 与菜单。

---

## 3. 页面规范

### 3.1 登录页 `/pages/login.html`

| 元素 | 规范 |
| --- | --- |
| 布局 | 居中卡片（宽 360px），背景使用渐变或简洁插画 |
| 表单字段 | 用户名、密码、记住我（勾选） |
| 操作 | 登录按钮（主色），忘记密码（链接、可选） |
| 校验 | 输入为空时提示；登录失败显示在表单内顶部 |
| 反馈 | 登录中显示 Loading 状态；成功后跳转仪表盘 |

### 3.2 仪表盘 `/pages/dashboard.html`

```
[统计卡片区域] （3 或 4 列）
  - 月度销售额（金额）
  - 月度订单数（数字 + 环比）
  - 月度新增客户（数字 + 环比）
  - 月度回访次数（数字）

[左：折线图] 月度销售趋势（最近 6 个月）
[右：环形图] 意向等级分布

[下方：提醒列表]
  - 表格形式：日期、类型、客户、内容、操作（标记完成）
```

- **图表库**：推荐使用 Chart.js 或 ECharts。
- **提醒列表交互**：支持复选框批量标记完成；hover 显示「查看客户详情」。

### 3.3 客户列表 `/pages/customer-list.html`

| 区域 | 说明 |
| --- | --- |
| 顶部工具栏 | 搜索框（支持姓名/公司/电话）、过滤条件（分类、意向、地区）、新增客户按钮 |
| 列表展示 | 表格或卡片视图，表头包含姓名、公司、意向、分类、电话、最近回访 |
| 行操作 | 查看详情、编辑、删除、快速回访（打开回访弹窗） |
| 选中操作 | 批量删除、导出（CSV/Excel） |
| 空状态 | 文案 + “添加第一个客户” 按钮 |

### 3.4 客户详情 `/pages/customer-detail.html`

```
[左侧：客户概要卡]
  - 头像、姓名、标签（意向、分类）
  - 联系方式：电话、邮箱、微信、WhatsApp、Facebook
  - 公司与职位
  - 上下级联系人（点击打开侧边弹层）

[右侧：Tab 区域]
  - 基本信息（可编辑）
  - 回访记录（列表 + 添加按钮）
  - 产品订单（列表 + 添加按钮）
  - 文件 / 附件（可选）

[侧边固定栏]
  - 下次计划回访信息（日期、方式、内容）
  - 快捷操作（立即发起回访、创建订单）
```

- **编辑模式**：点击“编辑”进入可编辑状态，采用两列表单布局；保存/取消按钮固定在底部。
- **时间线视图**：回访记录采用时间线展示，按时间倒序。

### 3.5 客户新增 / 编辑 `/pages/customer-add.html` & `/pages/customer-edit.html`

| 区域 | 字段组 |
| --- | --- |
| 基础信息 | 姓名、性别、生日、年龄、头像上传 |
| 联系方式 | 电话、邮箱、微信、WhatsApp、Facebook |
| 公司信息 | 公司、职位、地址、地区 |
| 业务画像 | 分类、意向、预算、需求说明、备注 |
| 联系人关系 | 上级联系人（下拉）、下级联系人（多选） |
| 回访计划 | 日期、方式、计划内容 |

- **表单分步**：可选，支持 Stepper（基础信息 → 联系方式 → 业务画像 → 回访计划）。
- **验证反馈**：输入校验错误在字段下方显示红色文本。

### 3.6 回访记录 `/pages/visit-records.html`

- **筛选**：按客户、回访类型、回访方式、时间范围筛选。
- **展示**：列表显示回访时间、客户、意向变化、跟进计划；支持展开显示详情。
- **快捷操作**：新增回访按钮固定在右下角浮动（FAB）。
- **导出**：提供导出按钮，生成 CSV。

### 3.7 回访新增/编辑 `/pages/visit-add.html`, `/pages/visit-edit.html`

- 字段：客户（下拉）、回访时间（datetime picker）、回访方式（下拉）、回访类型（下拉）、回访内容（富文本支持）、效果、满意度、意向等级（下拉）、跟进计划。
- 支持从客户详情页带入默认客户。
- 保存后返回上一页并提示成功。

### 3.8 产品管理 `/pages/product-management.html`

- **表格列**：产品名称、客户、数量、价格、购买日期、售后、下次回访日期。
- **图表**：侧边展示 Top 5 产品销售额柱状图。
- **新增/编辑**：表单字段包含客户、产品名称、数量、单价、购买日期、售后备注、跟进日期。
- **批量操作**：批量删除、导出。

### 3.9 预设数据 `/pages/preset-data.html`

- 左侧为类别导航（客户分类、意向等级、地区、预算、回访方式/类型、导航模式、提醒周期、预设产品）。
- 右侧为对应数据表格，支持拖拽排序（或上下箭头）。
- 新增/编辑在侧边抽屉中弹出表单。

### 3.10 用户设置 `/pages/settings.html`

| 分组 | 内容 |
| --- | --- |
| 账户安全 | 修改密码（原密码、新密码、确认密码） |
| 外观 | 深色模式开关、主题色选择（可选） |
| 通知 | 回访提醒、生日提醒开关 |
| 数据 | 备份按钮、恢复按钮、清空数据按钮（需二次确认） |

- 重要操作（恢复、清空数据）需弹出确认对话框，并明确提示不可逆。

### 3.11 数据维护 `/pages/preset-data-editor.html`（或设置子页）

- 列出备份文件（名称、时间、大小、存储位置）。
- 操作：下载、恢复、删除。
- 创建新备份按钮。

---

## 4. 表单与组件规范

### 4.1 输入组件

| 组件 | 交互要点 |
| --- | --- |
| 文本输入 | 宽度 100%，高度 44px，边框 1px `#CBD5F5`，聚焦边框主色 |
| 下拉选择 | 使用带搜索的 Select，支持单选/多选 |
| 日期选择 | 采用扁平风格 DatePicker，展示快捷选项（今天、7 天、30 天） |
| 开关 | 使用圆角 Switch，开启为主色，关闭为淡灰 |
| 单选按钮 | 用于选择回访方式/类型等枚举 |
| 复选框 | 用于批量操作、提醒类型选择 |
| 富文本编辑 | 采用简化工具栏（加粗、斜体、列表、链接） |

### 4.2 状态反馈

| 状态 | 样式 | 行为 |
| --- | --- | --- |
| 成功 | 绿色提示条或 Toast | 自动消失 3 秒 |
| 失败 | 红色提示条，提供错误详情 | 保持显示直到用户关闭 |
| 加载 | 按钮内 Loading Spinner，列表 Skeleton | 数据加载期间禁用交互 |
| 空数据 | 插画 + 文案 + CTA 按钮 | 鼓励用户创建或导入数据 |

---

## 5. 响应式断点

| 断点 | 宽度范围 | 行为 |
| --- | --- | --- |
| Desktop | ≥ 1280px | 展示全布局（侧边栏 + 主内容） |
| Tablet | 768px - 1279px | 侧边栏折叠为图标模式；表格切换为卡片列表 |
| Mobile | < 768px | 顶部固定导航 + 全屏内容；图表使用可滑动容器 |

---

## 6. 交互动效

- 按钮、卡片 hover：轻微提升（translateY(-2px)）与阴影增强。
- 弹窗/抽屉：使用淡入淡出 + 上滑/右滑动画（200ms）。
- 切换深色模式：过渡 300ms，将背景、文本、边框色平滑转换。
- Toast：右上角淡入，3 秒后淡出。

---

## 7. 无障碍与国际化

| 要求 | 说明 |
| --- | --- |
| 语义化标签 | 使用 `<nav>`, `<main>`, `<section>`, `<header>` 等语义标签 |
| 键盘导航 | 所有交互元素支持 Tab 焦点、Enter/Space 触发 |
| ARIA | 模态框、抽屉、警告等组件添加适当 ARIA 属性 |
| 对比度 | 文本对比度 ≥ 4.5:1，按钮 ≥ 3:1 |
| 多语言 | 预留 i18n 机制（JSON 词条），默认 `zh-CN`，可扩展 `en-US` |

---

## 8. 设计资源与交付

- 设计稿：提供 Figma 链接，包含桌面与移动端页面。
- 图标库：统一使用 Heroicons Outline 版本。
- 插图：可使用 undraw / storyset 免版权插画。
- 样式变量（CSS Custom Properties）：
  ```css
  :root {
    --color-primary: #2563EB;
    --color-secondary: #10B981;
    --color-bg: #F9FAFB;
    --color-text: #1F2937;
    --border-radius: 8px;
    --shadow-md: 0 10px 30px rgba(15, 23, 42, 0.08);
  }

  [data-theme="dark"] {
    --color-bg: #0F172A;
    --color-text: #F8FAFC;
  }
  ```

---

本规范确保 AI 或前端工程师在 Serverless 重构过程中保持一致的体验设计和交互细节。
